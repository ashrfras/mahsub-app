ئورد الكل من سياق؛
ئورد بتشدبي، بتشمرفق من مكون.بتشدبي؛
ئورد الئان من تاريخ؛
ئورد مختطمستخدم من صنفمجال.مستخدم؛
ئورد الكل من صنفمجال.ئتيلات؛
ئعلن مركب مختطمتجر؛
ئعلن ئحفض (مختطمتجر متج) ك وعد مختطمتجر؛
ئعلن ردمتجر () ك وعد مختطمتجر؛
ئعلن ئنشئمتجر (نصية ئسمتجر، نصية ئسمسير، نصية بريدمسير، نصية نشاطتجاري) ك وعد منطق؛
ئعلن مركب مختطمتجر:
	نصية _معرف،
	نصية _مراجعة،
	منطق _محدوف،
	بتشمرفق[] _مرفقات،
	نصية نوع،
	نصية رمزمتجر،
	نصية ئسمتجر،
	نصية نشاطتجاري،
	عدد تاريخئنشائ،
	نصية رمزعملة،
	نصية ئسمتجاري،
	نصية هاتف،
	نصية بريدرقمي،
	نصية رابط،
	نصية تدييل
تم

ئعلن ئحفض (مختطمتجر متج) ك وعد مختطمتجر:
	ئدا ليس متج._معرف:
		متج._معرف = 'متجر'؛
	تم
	متج.نوع = 'متجر'؛
	ريتما سياق.قابمحلي.ئوضع(متج)؛
تم

ئعلن ردمتجر () ك وعد مختطمتجر:
	ئدا ليس سياق.قابمحلي:
		سياق.خدقابمحلي(بتشدبي(سياق.ئسمقاب))؛
	تم
	مختطمتجر نتج = ريتما سياق.قابمحلي.ئجلب('متجر')؛
	ئرجع نتج؛
تم
ئعلن ئنشئمتجر (نصية ئسمتجر، نصية ئسمسير، نصية بريدمسير، نصية نشاطتجاري) ك وعد منطق:
	مختطمتجر متج = {
		_معرف: 'متجر'،
		نوع: 'متجر'،
		رمزمتجر: ئتيلات.ئستولدمعرف()،
		ئسمتجر: ئسمتجر،
		نشاطتجاري: نشاطتجاري،
		تاريخئنشائ: الئان()،
		رمزعملة: 'د.م'،
		ئسمتجاري: ئسمتجر،
		بريدرقمي: بريدمسير،
		تدييل: 'شكرا لزيارتكم'
	}؛
	مختطمستخدم مستخ = {
		_معرف: ئتيلات.ئستولدمعرف()،
		نوع: 'مستخدم'،
		ئسمكامل: ئسمسير،
		صلاحيات: 'مسؤول'،
		بريدرقمي: بريدمسير،
		نشاطتجاري: نشاطتجاري،
		لايحدف: صحيح
	}؛
	ريتما سياق.قابمحلي.خدفهرس(
		حقلين: ["نوع"]
	)؛
	ريتما سياق.قابمحلي.خدواحد(متج)؛
	ريتما سياق.قابمحلي.خدواحد(مستخ)؛
تم
